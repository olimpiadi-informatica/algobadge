(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{9519:function(r,e,n){"use strict";n.d(e,{h:function(){return d},E:function(){return h}});var t=n(5893),o=n(674),s=n.n(o),c=n(885),i=n(3489),a=n(2050),u=n(4162),l=n(8918);function f(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function d(r){var e=r.color,n=r.size;return e?(n||(n=35),(0,t.jsx)("svg",{fill:e,width:"".concat(n,"px"),height:"".concat(n,"px"),viewBox:"0 0 1024 1024",children:(0,t.jsx)("path",{d:"M547 304.2h-451l108.2-207.8h481.4z M685.6 754.4c0 95.656-77.544 173.2-173.2 173.2s-173.2-77.544-173.2-173.2c0-95.656 77.544-173.2 173.2-173.2s173.2 77.544 173.2 173.2z M697.8 598.2l230.2-294-138.6-207.8-276.6 415.6c64.6 0 125.4 25.4 171 71 5 5 9.6 10 14 15.2z M411.6 533.2l-107-161.2h-207.8l180.2 323c10.4-42.4 32.2-81.2 64-112.8 20.8-20.6 44.6-37.2 70.6-49z"})})):null}function p(r){var e=r.color;return(0,t.jsx)("svg",{width:"35px",height:"35px",viewBox:"0 0 170 170",children:(0,t.jsxs)("g",{children:[(0,t.jsx)("path",{style:{fillRule:"evenodd",fill:e},d:"m112.5 4.1909c-20.072 0-36.231 16.159-36.231 36.231v40.256h10.064v-40.256c0-14.497 11.671-26.167 26.167-26.167 14.5 0 26.17 11.67 26.17 26.167v27.756h10.06v-27.756c0-20.072-16.16-36.231-36.23-36.231z"}),(0,t.jsx)("rect",{style:{fillRule:"evenodd",fill:e},rx:"0.5",ry:".5",height:"66.259",width:"85.603",y:"74.55",x:"7.1987"})]})})}function v(r){var e=r.withUnlock,n=[{position:c.Rc,color:c.Iy},{position:c.tY,color:c.sI},{position:c.Ko,color:c.qs},{position:c.O_,color:c.FL}];return(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsx)("div",{className:s().checkpoint,style:{"--position":"".concat(100*c.Lw,"%")},children:(0,t.jsx)(p,{color:"black"})}),n.map((function(r){return(0,t.jsx)("div",{className:s().checkpoint,style:{"--position":"".concat(100*r.position,"%")},children:(0,t.jsx)(d,{color:r.color})},r.position)}))]})}function h(r){var e=r.score,n=r.maxScore,o=r.nextCategories;if(e===n)return(0,t.jsx)("div",{className:s().progress,children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(a.Z,{className:s().progressDiamond,animated:!0,now:100}),(0,t.jsx)(v,{withUnlock:o.length>0})]})});var d=[],p=[{from:c.Ko,to:c.O_,className:s().progressGold},{from:c.tY,to:c.Ko,className:s().progressSilver},{from:c.Rc,to:c.tY,className:s().progressBronze},{from:0,to:c.Rc,className:s().progressNone}],h=e/n,m=!0,g=!1,y=void 0;try{for(var b,x=p[Symbol.iterator]();!(m=(b=x.next()).done);m=!0){var w=b.value;if(h>=w.from){d.push((0,t.jsx)(a.Z,{className:w.className,animated:!0,now:100*h},w.from));break}}}catch(j){g=!0,y=j}finally{try{m||null==x.return||x.return()}finally{if(g)throw y}}return(0,t.jsx)(u.Z,{placement:"top",overlay:function(r){var s="";if(h<c.Lw&&o.length>0)s="Ancora ".concat((0,l.N)(n*c.Lw-e,1)," punti per sbloccare le prossime categorie");else if(h<c.Rc)s="Ancora ".concat((0,l.N)(n*c.Rc-e,1)," punti per sbloccare il badge di bronzo!");else if(h<c.tY)s="Ancora ".concat((0,l.N)(n*c.tY-e,1)," punti per sbloccare il badge di argento!");else if(h<c.Ko)s="Ancora ".concat((0,l.N)(n*c.Ko-e,1)," punti per sbloccare il badge d'oro!");else{if(!(h<c.O_))return null;s="Ancora ".concat((0,l.N)(n*c.O_-e,1)," punti per sbloccare il badge di diamante!")}return(0,t.jsx)(i.Z,function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),t.forEach((function(e){f(r,e,n[e])}))}return r}({id:"progress-overlay"},r,{children:s}))},children:(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:s().progress,children:(0,t.jsxs)(a.Z,{children:[d,(0,t.jsx)(v,{withUnlock:o.length>0})]})})})})}},885:function(r,e,n){"use strict";n.d(e,{lb:function(){return t},Lw:function(){return o},Rc:function(){return s},tY:function(){return c},Ko:function(){return i},O_:function(){return a},Iy:function(){return u},sI:function(){return l},qs:function(){return f},FL:function(){return d},Cj:function(){return v},Yf:function(){return m},Pb:function(){return g}});var t=100,o=.2,s=.4,c=.6,i=.8,a=1,u="#cd7f32",l="#c0c0c0",f="#ffdf00",d="#94ebff";function p(r){switch(r){case"locked":return 0;case"none":return 1;case"bronze":return 2;case"silver":return 3;case"gold":return 4;case"diamond":return 5}}function v(r){switch(r){case"locked":case"none":return null;case"bronze":return u;case"silver":return l;case"gold":return f;case"diamond":return d}}function h(r,e){return r>=e*a?"diamond":r>=e*i?"gold":r>=e*c?"silver":r>=e*s?"bronze":"none"}function m(r,e,n){var s={},c=Object.fromEntries(e.scores.map((function(r){return[r.name,r.score]}))),i=!0,a=!1,u=void 0;try{for(var l,f=r.nodes[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var d=l.value,p=0,v={},m={},g=0,y=!0,b=!1,x=void 0;try{for(var w,j=d.tasks[Symbol.iterator]();!(y=(w=j.next()).done);y=!0){var _,k=w.value,N=null!==(_=c[k.name])&&void 0!==_?_:0;v[k.name]=N;var S,O=void 0;O=k.terry?"https://territoriali.olinfo.it/task/".concat(k.name):"https://training.olinfo.it/#/task/".concat(k.name,"/statement"),m[k.name]=O,p+=N,g+=null!==(S=k.maxScore)&&void 0!==S?S:t}}catch(M){b=!0,x=M}finally{try{y||null==j.return||j.return()}finally{if(b)throw x}}s[d.id]={node:d,score:p,badge:h(p,g),tasks:v,taskURLs:m}}}catch(M){a=!0,u=M}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}var P=new Set,z=function(r){if(!P.has(r)){P.add(r);var e=s[r],c=!1,i=!0,a=!1,u=void 0;try{for(var l,f=e.node.prerequisites[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var d=l.value;z(d);var p,v=s[d],h=v.node.tasks.reduce((function(r,e){return r+(null!==(p=e.maxScore)&&void 0!==p?p:t)}),0)*o;("locked"===v.badge||v.score<h)&&(c=!0)}}catch(M){a=!0,u=M}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}c&&!n&&(e.badge="locked")}},R=!0,L=!1,Y=void 0;try{for(var Z,E=r.nodes[Symbol.iterator]();!(R=(Z=E.next()).done);R=!0){var K=Z.value;z(K.id)}}catch(M){L=!0,Y=M}finally{try{R||null==E.return||E.return()}finally{if(L)throw Y}}return s}function g(r){var e=Object.values(r).map((function(r){return r.badge})),n="diamond",t=!0,o=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(t=(c=i.next()).done);t=!0){var a=c.value;p(a)<p(n)&&(n=a)}}catch(u){o=!0,s=u}finally{try{t||null==i.return||i.return()}finally{if(o)throw s}}return n}},8918:function(r,e,n){"use strict";function t(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,e);return Math.round(r*n)/n}n.d(e,{N:function(){return t}})},2106:function(r,e,n){"use strict";n.d(e,{b:function(){return i}});var t=n(4051),o=n.n(t);function s(r,e,n,t,o,s,c){try{var i=r[s](c),a=i.value}catch(u){return void n(u)}i.done?e(a):Promise.resolve(a).then(t,o)}function c(r){return function(){var e=this,n=arguments;return new Promise((function(t,o){var c=r.apply(e,n);function i(r){s(c,t,o,i,a,"next",r)}function a(r){s(c,t,o,i,a,"throw",r)}i(void 0)}))}}function i(r){return a.apply(this,arguments)}function a(){return(a=c(o().mark((function r(e){var n,t,s,c,i,a,u,l,f,d,p;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n={action:"get",username:e},r.next=4,fetch("https://training.olinfo.it/api/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});case 4:if(200===(t=r.sent).status){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,t.json();case 9:if(1===(s=r.sent).success){r.next=12;break}return r.abrupt("return",null);case 12:return r.next=14,fetch("https://territoriali.olinfo.it/api/user/".concat(e,"/scores"),{method:"GET"});case 14:if(200==(c=r.sent).status){r.next=17;break}return r.abrupt("return",s);case 17:return r.next=19,c.json();case 19:for(i=r.sent,a=!0,u=!1,l=void 0,r.prev=21,f=i[Symbol.iterator]();!(a=(d=f.next()).done);a=!0)(p=d.value).score=50*p.score/p.max_score,s.scores.push(p);r.next=29;break;case 25:r.prev=25,r.t0=r.catch(21),u=!0,l=r.t0;case 29:r.prev=29,r.prev=30,a||null==f.return||f.return();case 32:if(r.prev=32,!u){r.next=35;break}throw l;case 35:return r.finish(32);case 36:return r.finish(29);case 37:return r.abrupt("return",s);case 40:return r.prev=40,r.t1=r.catch(0),r.abrupt("return",null);case 43:case"end":return r.stop()}}),r,null,[[0,40],[21,25,29,37],[30,,32,36]])})))).apply(this,arguments)}},674:function(r){r.exports={progressNone:"Progress_progressNone__o_ttj",progressBronze:"Progress_progressBronze__TJD81",progressSilver:"Progress_progressSilver__LQ8l3",progressGold:"Progress_progressGold__7qQo3",progressDiamond:"Progress_progressDiamond__lfgFF",progress:"Progress_progress__axvfY",checkpoint:"Progress_checkpoint__TZ_n2"}}}]);